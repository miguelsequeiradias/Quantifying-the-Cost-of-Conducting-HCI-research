### Scraper of the site: https://dblp.org/db/conf/chi/index.html

### Will be scraping all the conferences between 1981 - 2022

### Pages that don't exist in these years: [1984]

### CHI's that are separated at 2 parts, will be treated as special: [1981, 1993 - 1996]

#### 1981
#### Part 1: (https://dblp.org/db/conf/chi/chi1981-1.html)
#### Part 2: (https://dblp.org/db/conf/chi/chi1981-2.html)

#### 1993
#### Part 1: (https://dblp.org/db/conf/chi/chi1993.html)
#### Part 2: (https://dblp.org/db/conf/chi/chi1993c.html)

#### 1994
#### Part 1: (https://dblp.org/db/conf/chi/chi1994.html)
#### Part 2: (https://dblp.org/db/conf/chi/chi1994c.html)

#### 1995
#### Part 1: (https://dblp.org/db/conf/chi/chi95.html)
#### Part 2: (https://dblp.org/db/conf/chi/chi1995c.html)

#### 1996
#### Part 1: (https://dblp.org/db/conf/chi/chi96.html)
#### Part 2: (https://dblp.org/db/conf/chi/chiC96.html)


### CHI's from 1982-1992 will only have the proceedings

#### 1982
#### Proceedings: (https://dblp.org/db/conf/chi/chi1982.html)

#### 1983
#### Proceedings: (https://dblp.org/db/conf/chi/chi1983.html)

#### 1985
#### Proceedings: (https://dblp.org/db/conf/chi/chi1985.html)

#### 1986
#### Proceedings: (https://dblp.org/db/conf/chi/chi1986.html)

#### 1987
#### Proceedings: (https://dblp.org/db/conf/chi/chi1987.html)

#### 1988
#### Proceedings: (https://dblp.org/db/conf/chi/chi1988.html)

#### 1989
#### Proceedings: (https://dblp.org/db/conf/chi/chi1989.html)

#### 1990
#### Proceedings: (https://dblp.org/db/conf/chi/chi1990.html)

#### 1991
#### Proceedings: (https://dblp.org/db/conf/chi/chi1991.html)

#### 1992
#### Proceedings: (https://dblp.org/db/conf/chi/chi92.html)


### CHI's from 1997-2022 will have the proceedings and their EA (Extended Abstract)

#### 1997
#### Proceedings: (https://dblp.org/db/conf/chi/chi97.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi97ea.html)

#### 1998
#### Proceedings: (https://dblp.org/db/conf/chi/chi98.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi1998a.html)

#### 1999
#### Proceedings: (https://dblp.org/db/conf/chi/chi99.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi1999a.html)

#### 2000
#### Proceedings: (https://dblp.org/db/conf/chi/chi2000.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2000a.html)

#### 2001
#### Proceedings: (https://dblp.org/db/conf/chi/chi2001.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2001a.html)

#### 2002
#### Proceedings: (https://dblp.org/db/conf/chi/chi2002.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2001a.html)

#### 2003
#### Proceedings: (https://dblp.org/db/conf/chi/chi2003.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2003a.html)

#### 2004
#### Proceedings: (https://dblp.org/db/conf/chi/chi2004.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2004a.html)

#### 2005
#### Proceedings: (https://dblp.org/db/conf/chi/chi2005.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2005a.html)

#### 2006
#### Proceedings: (https://dblp.org/db/conf/chi/chi2006.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2006a.html)

#### 2007
#### Proceedings: (https://dblp.org/db/conf/chi/chi2007.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2007a.html)

#### 2008
#### Proceedings: (https://dblp.org/db/conf/chi/chi2008.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2008a.html)

#### 2009
#### Proceedings: (https://dblp.org/db/conf/chi/chi2009.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2009a.html)

#### 2010
#### Proceedings: (https://dblp.org/db/conf/chi/chi2010.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2010a.html)

#### 2011
#### Proceedings: (https://dblp.org/db/conf/chi/chi2011.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2011a.html)

#### 2012
#### Proceedings: (https://dblp.org/db/conf/chi/chi2012.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2012a.html)

#### 2013
#### Proceedings: (https://dblp.org/db/conf/chi/chi2013.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2013a.html)
#### Workshop: (https://dblp.org/db/conf/chi/chi2013r.html)

#### 2014
#### Proceedings: (https://dblp.org/db/conf/chi/chi2014.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2014a.html)


#### 2015
#### Proceedings: (https://dblp.org/db/conf/chi/chi2015.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2015a.html)


#### 2016
#### Proceedings: (https://dblp.org/db/conf/chi/chi2016.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2016a.html)
#### Workshop: (https://dblp.org/db/conf/chi/seachi2016.html)

#### 2017
#### Proceedings: (https://dblp.org/db/conf/chi/chi2017.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2017a.html)
#### Workshop: (https://dblp.org/db/conf/chi/mici2017.html)

#### 2018
#### Proceedings: (https://dblp.org/db/conf/chi/chi2018.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2018a.html)
#### Workshop: (https://dblp.org/db/conf/chi/smartobjects2018.html)

#### 2019
#### Proceedings: (https://dblp.org/db/conf/chi/chi2019.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2019a.html)
#### Workshop: (https://dblp.org/db/conf/chi/asianchi2019.html)

#### 2020
#### Proceedings: (https://dblp.org/db/conf/chi/chi2020.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2020a.html)
#### Workshop 1: (https://dblp.org/db/conf/chi/asianchi2020.html)
#### Workshop 2: (https://dblp.org/db/conf/chi/axp2020.html)
#### Workshop 3: (https://dblp.org/db/conf/chi/ihdi2020.html)


#### 2021
#### Proceedings: (https://dblp.org/db/conf/chi/chi2021.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2021a.html)
#### Workshop 1: (https://dblp.org/db/conf/chi/asianchi2021.html)
#### Workshop 2: (https://dblp.org/db/conf/chi/axp2021.html)

#### 2022
#### Proceedings: (https://dblp.org/db/conf/chi/chi2022.html)
#### Extended Abstract: (https://dblp.org/db/conf/chi/chi2022a.html)

import requests
from requests.adapters import HTTPAdapter
from requests.packages.urllib3.util.retry import Retry
from bs4 import BeautifulSoup
import csv

outfile = open('doi_authors.csv','a', newline='')
writer = csv.writer(outfile)
writer.writerow(["doi", "Year", "Title", "Author"])

no_links = 0
count = 0


chi_full_proceedings_links_til_2004 = ("chi1981-1.html", "chi1981-2.html", "chi1993.html", "chi1993c.html", "chi1994.html", "chi1994c.html", "chi95.html", "chi1995c.html", \
    "chi96.html", "chiC96.html", "chi1982.html", "chi1983.html", "chi1985.html", "chi1986.html", "chi1987.html", "chi1988.html", "chi1989.html", "chi1990.html", \
        "chi1991.html", "chi92.html" ,"chi97.html", "chi97ea.html", "chi98.html", "chi98a.html", "chi99.html", "chi99a.html", "chi2000.html", "chi2000a.html", "chi2001.html", \
            "chi2001a.html", "chi2002.html", "chi2002a.html", "chi2003.html", "chi2003a.html", "chi2004.html", "chi2004a.html")

chi_full_proceedings_links_after_2005 = ("chi2005.html", "chi2005a.html", \
                "chi2006.html", "chi2007.html" ,"chi2007a.html", "chi2008.html", "chi2008a.html", "chi2009.html", "chi2009a.html", "chi2010.html", "chi2010a.html", \
                    "chi2011.html" "chi2011a.html", "chi2012.html", "chi2012a.html", "chi2013.html", "chi2013a.html","chi2013r.html" ,"chi2014.html", "chi2014a.html", \
                                "chi2015.html", "chi2015a.html", "chi2016.html", "chi2016a.html", "seachi2016.html", "chi2017.html", "chi2017a.html", "mici2017.html", \
                                     "chi2018.html", "chi2018a.html", "smartobjects2018.html", "chi2019.html", "chi2019a.html", "asianchi2019.html", "chi2020.html",\
                                          "chi2020a.html", "asianchi2020.html",  "axp2020.html", "ihdi2020.html", "chi2021.html", "chi2021a.html", "asianchi2021.html",\
                                               "axp2021.html", "chi2022.html", "chi2022a.html")

chi_only_proceedings_links_no_entry = ("chi1981-1.html", "chi1981-2.html", "chi1993.html","chi96.html", "chi1982.html", "chi1983.html", "chi1985.html",\
     "chi1986.html", "chi1987.html", "chi1988.html", "chi1989.html", "chi1990.html", "chi1991.html", "chi92.html", "chi98.html", "chi99.html",  "chi2000.html"\
         , "chi2004.html", "chi2019.html", "chi2020.html", "chi2021.html")

chi_only_proceedings_links_entry = ("chi2005.html", "chi2006.html", "chi2007.html", "chi2008.html", "chi2009.html",\
             "chi2010.html", "chi2011.html" , "chi2012.html", "chi2013.html", "chi2022.html","chi1994.html","chi95.html", "chi97.html", "chi2001.html",\
                 "chi2002.html", "chi2003.html","chi2014.html", "chi2015.html", "chi2016.html", "chi2017.html", "chi2018.html")


# Special case of CHI 1983

URL = "https://dblp.org/db/conf/chi/" + "chi1983.html"
page = requests.get(URL)

soup = BeautifulSoup(page.content, "html.parser")

results = soup.find(id="main").find_all(class_="publ-list")

for res in results:
    
    publ_elements = res.find_all(class_="entry inproceedings")


for pub_element in publ_elements:

    try:
        doi_element = pub_element.find(class_="publ").find(class_="drop-down").find(class_="head").find('a', href=True).get("href")

        authors_list = pub_element.find(class_="data tts-content").find_all(itemprop="author")

        authors = ""

        k = 1

        for a in authors_list:
            
            authors += a.find(itemprop="url").find(itemprop="name").text
            k += 1
            if k < len(authors_list) + 1:
                authors += ", "

        year_element = pub_element.find(class_="data tts-content").find(itemprop="datePublished").get("content")
        title_element = pub_element.find(class_="data tts-content").find(class_="title")

        writer.writerow([doi_element, year_element, title_element.text, authors])
        #print(doi_element, year_element, title_element.text, authors)
        count += 1
    except:
        no_links += 1
        continue


for chi in chi_only_proceedings_links_no_entry:
    URL = "https://dblp.org/db/conf/chi/" + chi
    page = requests.get(URL)

    soup = BeautifulSoup(page.content, "html.parser")

    results = soup.find(id="main").find(class_="publ-list")

    publ_elements = results.find_all(class_="entry inproceedings")

    for pub_element in publ_elements:

        try:
            doi_element = pub_element.find(class_="publ").find(class_="drop-down").find(class_="head").find('a', href=True).get("href")

            authors_list = pub_element.find(class_="data tts-content").find_all(itemprop="author")

            authors = ""

            k = 1

            for a in authors_list:
                
                authors += a.find(itemprop="url").find(itemprop="name").text
                k += 1
                if k < len(authors_list) + 1:
                    authors += ", "

            year_element = pub_element.find(class_="data tts-content").find(itemprop="datePublished").get("content")
            title_element = pub_element.find(class_="data tts-content").find(class_="title")

            writer.writerow([doi_element, year_element, title_element.text, authors])
            #print(doi_element, year_element, title_element.text, authors)
            count += 1
        except:
            no_links += 1
            continue

for chi in chi_only_proceedings_links_entry:
    URL = "https://dblp.org/db/conf/chi/" + chi

    page = requests.get(URL)

    soup = BeautifulSoup(page.content, "html.parser")

    results = soup.find(id="main")
    publ_elements = results.find_all(class_="publ-list")
    for pub_element in publ_elements:

        if (pub_element.find(class_="entry editor")):
            continue

        for p_element in pub_element.find_all(class_="entry inproceedings"):
            
            try:
                doi_element = p_element.find(class_="publ").find(class_="drop-down").find(class_="head").find('a', href=True).get("href")

                #print(doi_element)

                authors_list = p_element.find(class_="data tts-content").find_all(itemprop="author")

                authors = ""

                k = 1

                for a in authors_list:
                    
                    authors += a.find(itemprop="url").find(itemprop="name").text
                    k += 1
                    if k < len(authors_list) + 1:
                        authors += ", "

                year_element = p_element.find(class_="data tts-content").find(itemprop="datePublished").get("content")
                title_element = p_element.find(class_="data tts-content").find(class_="title")

                if "Quiet calls:" in title_element.text: #Due to non-available link
                    continue

                writer.writerow([doi_element, year_element, title_element.text, authors])
                #print(doi_element, year_element, title_element.text, authors)
                count += 1

            except:
                no_links += 1
                continue

print(no_links)
print(count)
outfile.close()